/**handles:digits-login-script,odometer,powerpack-frontend**/
jQuery(function($){try{jQuery(".dig-custom-field-type-date").find('input[type="text"]').attr({dtype:"date",date:1}).datepicker({language:"en",timepicker:false,onSelect:function(formattedDate,date,inst){jQuery(inst.el).trigger("change")}})}catch(e){}function isEmpty(el){return!jQuery.trim(el)}var tokenCon;var akCallback=-1;var useWhatsApp=0;var body=jQuery("body");if(dig_log_obj.dig_hide_ccode==1)body.addClass("dig_hideccode");jQuery(".digits-login-modal").each(function(){var attrs=["href","type","data-show"];var $this=jQuery(this);var a=$this.closest("a");jQuery.each(attrs,function(index,value){a.attr(value,$this.attr(value))});a.addClass($this.attr("class"))});var loader=jQuery(".dig_load_overlay").first();var modcontainer=jQuery(".dig-box");body.append(loader);body.append(jQuery(".digits_login_form"));body.append(jQuery(".digits-overlay"));jQuery(document).on("click",".dig-cont-close, .dig_login_cancel",function(){if(modcontainer){modcontainer.css({display:"none"});unlockScroll();if(jQuery("#digits_redirect_page").length)jQuery("#digits_redirect_page").remove()}});var isPlaceholder=0;var leftPadding="-";jQuery(document).on("change",".dig_lrf_box select",function(){var value=jQuery(this).val();var minput=jQuery(this).closest(".minput");if(isEmpty(value)){minput.addClass("dig-label empty").removeClass("selected")}else{minput.addClass("dig-label selected").removeClass("empty")}});function update_req_fields(){jQuery(".dig_lrf_box").each(function(){var show_asterisk=jQuery(this).data("asterisk");if(!show_asterisk||show_asterisk==0)return;jQuery(this).find(".register").find(".minput").each(function(){var par=jQuery(this);if(par.hasClass("dig-custom-field"))return;var inpu=par.find("input").not(".countrycode");if(inpu.attr("required")&&!inpu.attr("aster")){var label=par.find("label");par.find("label").html(label.html()+" *");inpu.attr("aster",1)}})})}function digits_select_format(val){var element=jQuery(val.element);var display=element.attr("data-display");if(val.id==-1){if(display=="-1"){element.closest(".minput_inner").find(".digits-select").removeClass("not-empty");display='<div class="dig-visibility_hidden">-</div>'}return display}element.closest(".minput_inner").find(".digits-select").addClass("not-empty");return val.text}function digits_select($elem){$elem.each(function(){var $this=jQuery(this);var parent=$this.closest("form");jQuery(this).select2({dir:dig_log_obj.direction,width:"100%",templateSelection:digits_select_format,escapeMarkup:function(m){return m},minimumResultsForSearch:8,dropdownParent:parent,dropdownCssClass:"digits-select-dropdown digits-form-dropdown",theme:"default digits-select digits-form-select"})})}function update_fields(){update_req_fields();if(typeof select2=="function"){digits_select(jQuery(".dig-custom-field").find("select"))}jQuery(".dig_show_label").find("select").each(function(){jQuery(this).find("option").first().attr("data-display",dig_log_obj.select).closest(".minput_inner").find(".digits-select").addClass("not-empty")});jQuery(".dig_pgmdl_1,.dig_floating_label").find("select").each(function(){jQuery(this).find('option[value="-1"]').attr("data-display","-1").closest(".minput_inner").find(".select2-selection__rendered").html('<div class="dig-visibility_hidden">-</div>')});jQuery(".dig_pgmdl_2").each(function(){var show_placeholder=jQuery(this).data("placeholder");if(!show_placeholder||show_placeholder==0)return;jQuery(this).find(".minput").each(function(){var inp=jQuery(this).find("input,textarea,select");if(inp.length){if(inp.attr("type")!="checkbox"&&inp.attr("type")!="radio"){var lb=jQuery(this).find("label").text().replace(/\s\s+/g," ");inp.attr("placeholder",lb);isPlaceholder=1}}})})}jQuery(window).on("update_digits",function(){update_fields()}).trigger("update_digits");var customLeftPadding=jQuery(".dig_leftpadding");if(customLeftPadding.length){leftPadding=customLeftPadding.val()}jQuery("#dig-ucr-container").on("click",function(event){if(jQuery(this).attr("force"))return;if(jQuery(event.target).has(".dig-modal-con").length){modcontainer.css({display:"none"});unlockScroll();if(jQuery("#digits_redirect_page").length)jQuery("#digits_redirect_page").remove()}});var login=jQuery(".dig_lrf_box .digloginpage");var register=jQuery(".dig_lrf_box .register");var forgot=jQuery(".dig_lrf_box .forgot");var login_modal=jQuery(".dig_ma-box .digloginpage");var register_modal=jQuery(".dig_ma-box .register");var forgot_modal=jQuery(".dig_ma-box .forgot");var forgotpass_modal=jQuery(".dig_ma-box .forgotpass");var forgotpass=jQuery(".dig_lrf_box .forgotpass");var registration_form=jQuery(".digits_native_registration_form");registration_form.find(".dig_wp_bp_fields").remove();var dig_sortorder=dig_log_obj.dig_sortorder;if(dig_sortorder!=null){if(dig_sortorder.length){var sortorder=dig_sortorder.split(",");registration_form.each(function(){var form=jQuery(this);var digits_register_inputs=form.find(".dig_reg_inputs");var reg_fields_wrapper=form.find(".digits_fields_wrapper");digits_register_inputs.each(function(){jQuery(this).find(".minput").sort(function(a,b){var ap=jQuery.inArray(a.id,sortorder);var bp=jQuery.inArray(b.id,sortorder);return ap<bp?-1:ap>bp?1:0}).appendTo(reg_fields_wrapper);reg_fields_wrapper.append(digits_register_inputs.find(".dig_register_otp"))})})}}var mailSecondLabel=jQuery(".dig_secHolder");var secondmailormobile=jQuery(".dig-secondmailormobile");var loginBoxTitle=jQuery(".dig-box-login-title");var isSecondMailVisible=false;var inftype=0;var leftDis=dig_log_obj.left;var noanim=false;var triggered=0;var dig_modal_conn=jQuery(".dig-modal-con");$.fn.digits_login_modal=function($this){show_digits_login_modal($this);return false};jQuery(document).on("click",".digits-login-modal",function(){if(!jQuery(this).attr("attr-disclick")){show_digits_login_modal(jQuery(this))}return false});function show_digits_login_modal($this){var windowWidth=jQuery(window).width();var type=$this.attr("type");jQuery(".minput").trigger("blur");if($this.data("show")){digits_show($this.data("show"));return false}if(typeof type===typeof undefined||type===false||type=="button"){type=1}if(type=="register"){type=2}else if(type=="forgot-password"){type=3}else if(type=="login"){type=4}if(type==10||$this.attr("data-fal")==1||$this.attr("data-link")==1){if($this.attr("href"))window.location.href=$this.attr("href");return true}else{noanim=true;var default_box;if(type==4){default_box="digits_modal_default_login"}else if(type==3){default_box="digits_modal_default_forgot"}else if(type==2){default_box="digits_modal_default_register"}else{default_box="digits_modal_default_login_register"}default_box=jQuery("."+default_box);if(default_box.length){modcontainer=default_box}else{modcontainer=jQuery(".dig-box")}modcontainer.css({display:"block"});var otp_box=modcontainer.find(".dig_verify_mobile_otp_container");if(otp_box!=null&&otp_box.length&&otp_box.is(":visible")){}else if(type==1||type==4){modcontainer.find(".backtoLogin").trigger("click");register.find(".backtoLoginContainer").show();forgot.find(".backtoLoginContainer").show();updateModalHeight(login_modal);if(type==4){modcontainer.find(".signupbutton").hide();modcontainer.find(".signdesc").hide()}else{modcontainer.find(".signupbutton").show();modcontainer.find(".signdesc").show()}}else if(type==2){if(register.length){modcontainer.find(".backtoLogin").trigger("click");register.find(".backtoLoginContainer").hide();modcontainer.find(".signupbutton").trigger("click")}else{showDigErrorMessage(dig_log_obj.Registrationisdisabled);modcontainer.hide();noanim=false;return false}}else if(type==3){if(forgot.length){modcontainer.find(".backtoLogin").trigger("click");forgot.find(".backtoLoginContainer").hide();modcontainer.find(".forgotpassworda").trigger("click")}else{showDigErrorMessage(dig_log_obj.forgotPasswordisdisabled);modcontainer.hide();noanim=false;return false}}noanim=false;jQuery("[tabindex='-1']").removeAttr("tabindex");if(modcontainer.length)lockScroll()}modcontainer.find("input:visible:not(.countrycode)").first().focusEnd();modcontainer.find(".mobile_field").trigger("keyup");return false}$.fn.focusEnd=function(){this.focus();var val=this.val();this.val("").val(val);return this};if(dig_log_obj.dig_dsb==1)return;var precode;function loginuser(response){if(precode==response.code){return false}precode=response.code;var rememberMe=0;if(submit_form!=null){if(submit_form.find(".digits_login_remember_me").length){rememberMe=submit_form.find(".digits_login_remember_me:checked").length>0}}jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:{action:"digits_login_user",code:response.code,csrf:response.state,digits:1,rememberMe:rememberMe},success:function(res){res=res.trim();loader.hide();if(res=="1"){loader.show();showDigLoginSuccessMessage();if(jQuery("#digits_redirect_page").length){digits_redirect(jQuery("#digits_redirect_page").val())}else digits_redirect(dig_log_obj.uri)}else if(res==-1){showDigNoticeMessage(dig_log_obj.pleasesignupbeforelogginin)}else if(res==-9){showDigErrorMessage(dig_log_obj.invalidapicredentials)}else{showDigErrorMessage(dig_log_obj.invalidlogindetails)}}});return false}function loginCallback(response){if(response.status==="PARTIALLY_AUTHENTICATED"){var code=response.code;var csrf=response.state;showDigitsModal(false);loginuser(response)}else{showDigitsModal(true)}}jQuery(document).on("click","#dig_lo_resend_otp_btn",function(){var dbbtn=jQuery(this);if(!jQuery(this).hasClass("dig_resendotp_disabled")){loader.show();if(isFirebase==1){dismissLoader=true;loader.show();var countrycode=dbbtn.attr("countrycode");var phone;if(countrycode=="+242"||countrycode=="+225"){phone=countrycode+"0"+dbbtn.attr("mob")}else{phone=countrycode+dbbtn.attr("mob")}grecaptcha.reset(window.recaptchaWidgetId);var appVerifier=window.recaptchaVerifier;firebase.auth().signInWithPhoneNumber(phone,appVerifier).then(function(confirmationResult){isDigFbAdd=1;loader.hide();window.confirmationResult=confirmationResult;updateTime(dbbtn)}).catch(function(error){loader.hide();showDigErrorMessage(dig_mdet.Invaliddetails)})}else{jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:{action:"digits_resendotp",countrycode:dbbtn.attr("countrycode"),mobileNo:dbbtn.attr("mob"),csrf:dbbtn.attr("csrf"),login:dbbtn.attr("dtype"),whatsapp:useWhatsApp},success:function(res){res=res.trim();loader.hide();if(res==0){showDigErrorMessage(dig_log_obj.pleasetryagain)}else if(res==-99){showDigErrorMessage(dig_log_obj.invalidcountrycode)}else{updateTime(dbbtn)}}})}}});jQuery(document).on("click",".dig_captcha",function(){var $this=jQuery(this);var cap=$this.parent().find(".dig_captcha_ses");var r=Math.random();$this.attr("src",$this.attr("cap_src")+"?r="+r+"&pr="+cap.val());cap.val(r)});jQuery(".dig_captcha").on("dragstart",function(event){event.preventDefault()});var update_time_button;var resendTime=dig_log_obj.resendOtpTime;function updateTime(time){tokenCon=time.closest("form");if(update_time_button){var submit_text=dig_log_obj.SubmitOTP;if(submit_form!=null){var submit_text_field=submit_form.find(".dig_submit_otp_text");if(submit_text_field.length)submit_text=submit_text_field.val()}update_time_button.attr("value",submit_text).text(submit_text);if(otp_container.length){otp_container.find(".dig_verify_otp_submit_button").text(submit_text)}}time.attr("dis",1).addClass("dig_resendotp_disabled").show().find("span").show();var time_spam=time.find("span");time_spam.text(convToMMSS(resendTime));var counter=0;var interval=setInterval(function(){var rem=resendTime-counter;time_spam.text(convToMMSS(rem));counter++;if(counter>=resendTime){clearInterval(interval);time.removeAttr("dis").removeClass("dig_resendotp_disabled").find("span").hide();counter=0}},1e3,true)}function convToMMSS(timeInSeconds){var sec_num=parseInt(timeInSeconds,10);var hours=Math.floor(sec_num/3600);var minutes=Math.floor((sec_num-hours*3600)/60);var seconds=sec_num-hours*3600-minutes*60;if(minutes<10){minutes="0"+minutes}if(seconds<10){seconds="0"+seconds}return"("+minutes+":"+seconds+")"}var dismissLoader=false;var lastcountrycode,lastmobileNo,lastDtype;var username_reg_field="";var email_reg_field="";var captcha_reg_field="";var captcha_ses_reg_field="";var isFirebase=0;var ldtype=0;function verifyMobileNoLogin(countrycode,mobileNo,csrf,dtype){if(lastcountrycode==countrycode&&lastmobileNo==mobileNo&&lastDtype==dtype){loader.hide();return}if(ldtype!=dtype){useWhatsApp=0}if(update_time_button.hasClass("dig_use_whatsapp")){useWhatsApp=1}ldtype=dtype;dismissLoader=false;hideDigMessage();loader.show();lastcountrycode=countrycode;lastmobileNo=mobileNo;lastDtype=dtype;var data={action:"digits_check_mob",countrycode:countrycode,mobileNo:mobileNo,csrf:csrf,login:dtype,username:username_reg_field,email:email_reg_field,captcha:captcha_reg_field,captcha_ses:captcha_ses_reg_field,digits:1,json:1,whatsapp:useWhatsApp};jQuery.each(submit_form.serializeArray(),function(i,field){if(!data[field.name])data[field.name]=field.value});jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:data,success:function(result){username_reg_field="";email_reg_field="";captcha_reg_field="";captcha_ses_reg_field="";lastDtype=0;lastmobileNo=0;loader.hide();var res=result;var ak=-1;if(isJSON(res)){if(res.success===false){if(res.data.notice){showDigNoticeMessage(res.data.message)}else{showDigErrorMessage(res.data.message)}return}ak=res.accountkit;isFirebase=res.firebase;res=res.code}else{res=res.trim()}if(res==-1&&dtype==11){showDigErrorMessage(dig_log_obj.MobileNumberalreadyinuse);return}if(res==-99){showDigErrorMessage(dig_log_obj.invalidcountrycode);return}if(res==-11){if(dtype==1){showDigNoticeMessage(dig_log_obj.pleasesignupbeforelogginin);return}else if(dtype==3){showDigErrorMessage(dig_log_obj.Mobilenumbernotfound);return}}else if(res==0){if(result.message){if(result.notice){showDigNoticeMessage(result.message)}else{showDigErrorMessage(result.message)}}else{showDigErrorMessage(dig_log_obj.Error)}return}if(res==-1&&dtype==2){showDigErrorMessage(dig_log_obj.MobileNumberalreadyinuse);return}if(mobileNo==null||countrycode==null){registerStatus=1;regForm.find(".registerbutton").trigger("click");return}mobileNo=filter_mobile(mobileNo);countrycode=countrycode.replace(/^0+/,"");if(ak==1){processAccountkitLogin(countrycode,mobileNo)}else if(isFirebase==1){var dig_verify_otp_input=jQuery(".dig_verify_otp_input");if(dig_verify_otp_input.length){dig_verify_otp_input.attr({placeholder:"------",maxlength:6})}dismissLoader=true;loader.show();var phone;if(countrycode=="+242"||countrycode=="+225"){phone=countrycode+"0"+mobileNo}else{phone=countrycode+mobileNo}var appVerifier=window.recaptchaVerifier;firebase.auth().signInWithPhoneNumber(phone,appVerifier).then(function(confirmationResult){loader.hide();window.confirmationResult=confirmationResult;verifyMobNo_success(res,countrycode,mobileNo,csrf,dtype)}).catch(function(error){loader.hide();showDigErrorMessage(error.message)})}else{verifyMobNo_success(res,countrycode,mobileNo,csrf,dtype)}}})}loader.on("click",function(){if(dismissLoader)loader.hide()});function processAccountkit(countrycode,mobileNo){hideDigitsModal()}if(dig_log_obj.firebase==1){try{if(firebase!=null){jQuery("body").append('<input type="hidden" value="1" id="dig_login_va_fr_otp" />');window.recaptchaVerifier=new firebase.auth.RecaptchaVerifier("dig_login_va_fr_otp",{size:"invisible",callback:function(response){},"expired-callback":function(){loader.hide()},"error-callback":function(){loader.hide()}});firebase.auth().signOut()}}catch(err){}}var dig_otp_fields=jQuery("input[name='dig_otp']");dig_otp_fields.on("change",function(e){var $this=jQuery(this);$this.val($this.val().replace(/\D/g,""))});dig_otp_fields.on("keydown",function(e){if(jQuery.inArray(e.keyCode,[46,8,9,27,13,110])!==-1||e.keyCode===86&&(e.ctrlKey===true||e.metaKey===true)||e.keyCode===65&&(e.ctrlKey===true||e.metaKey===true)||e.shiftKey===true||e.keyCode>=35&&e.keyCode<=40){return}if((e.shiftKey||(e.keyCode<48||e.keyCode>57))&&(e.keyCode<96||e.keyCode>105)){e.preventDefault()}});var otp_box=0;var otp_container="";var otp_submit_button=0;function verifyMobNo_success(res,countrycode,mobileNo,csrf,dtype){if(submit_form==null){otp_container=""}else{otp_container=submit_form.closest(".dig_lrf_box").find(".dig_verify_mobile_otp_container")}dismissLoader=false;if(dtype==101){if(submit_form.hasClass("wpnotif_subscribe")){submit_form.find(".wpnotif_otp_field").slideDown("fast").find("input").attr("required",true).trigger("focus");submit_form.find('[type="submit"]').text(wpn_sub.SubmitOTP);submit_form.data("send_otp",1)}}else if(dtype==1||dtype==11){if(res==1){updateTime(submit_form.find(".dig_logof_log_resend").attr({countrycode:countrycode,mob:mobileNo,csrf:csrf,dtype:dtype}));submit_form.find("input[type='password']").each(function(){jQuery(this).closest(".minput").slideUp()});var otpin=submit_form.find(".dig_login_otp");submit_form.find(".logforb").hide();otpin.slideDown().find("input").attr("required","required").trigger("focus");otp_submit_button.attr("verify",1);submit_form.find(".loginviasms").not(".dig_otp_submit_button").hide();if(otp_container.length){submit_form.closest(".digloginpage").hide();otp_box=otpin.find("input");show_mobile_in_element(otp_container.show().find(".dig_verify_code_msg span"),countrycode,mobileNo);otp_container.find("input").trigger("focus");otp_container.find(".dig_verify_otp").after(submit_form.find(".dig_logof_log_resend"))}}}else if(dtype==2){updateTime(regForm.find(".dig_logof_reg_resend").attr({countrycode:countrycode,mob:mobileNo,csrf:csrf,dtype:dtype}));registerStatus=1;regForm.find(".minput").find("input[type='password']").each(function(){jQuery(this).closest(".minput").slideUp("fast")});var otpin=regForm.find(".dig_register_otp");otpin.slideDown().find("input").attr("required","required").trigger("focus");regForm.find(".dig_reg_btn_password").hide();regForm.find(".dig-signup-otp").first().addClass("dig_otp_submit_button").show();regForm.find(".registerbutton").attr("verify",1);update_time_button.closest("form").find(".registerbutton").not(".dig_otp_submit_button").hide();otpin.closest(".dig-container").addClass("dig-min-het");if(otp_container.length){otp_submit_button=regForm.find(".dig-signup-otp");regForm.closest(".register").hide();otp_box=otpin.find("input");show_mobile_in_element(otp_container.show().find(".dig_verify_code_msg span"),countrycode,mobileNo);otp_container.find("input").trigger("focus");otp_container.find(".dig_verify_otp").after(submit_form.find(".dig_logof_reg_resend"))}}else if(dtype==3){updateTime(forgotForm.find(".dig_logof_forg_resend").attr({countrycode:countrycode,mob:mobileNo,csrf:csrf,dtype:dtype}));var otpin=forgotForm.find(".dig_forgot_otp");otpin.slideDown().find("input").attr("required","required").trigger("focus");otp_submit_button=forgotForm.find(".forgotpassword");otp_submit_button.attr("verify",1);if(otp_container.length){forgotForm.closest(".forgot").hide();otp_box=otpin.find("input");show_mobile_in_element(otp_container.show().find(".dig_verify_code_msg span"),countrycode,mobileNo);otp_container.find("input").trigger("focus");otp_container.find(".dig_verify_otp").after(submit_form.find(".dig_logof_reg_resend"))}}setTimeout(function(){jQuery(window).trigger("resize")},350);update_req_fields();jQuery(window).trigger("resize")}function show_mobile_in_element(element,countrycode,phone){var phone_obj=libphonenumber.parsePhoneNumberFromString(countrycode+phone);countrycode=countrycode.replace("+","");phone="+"+countrycode+" "+phone;if(typeof phone_obj!="undefined"){if(dig_log_obj.dig_mobile_no_formatting==1){phone=jQuery.trim(phone_obj.formatInternational())}else if(dig_log_obj.dig_mobile_no_formatting==2){phone=phone_obj.formatNational();phone="+"+countrycode+" "+phone}}element.text(phone)}jQuery(".dig_verify_otp_input").on("keyup",function(event){var keyCode=event.keyCode?event.keyCode:event.which;if(keyCode==13){jQuery(this).closest(".dig_verify_mobile_otp_container").find(".dig_verify_otp").trigger("click")}});jQuery(".dig_verify_otp").on("click",function(){var dig_verify_otp=jQuery(this).closest(".dig_verify_mobile_otp_container").find(".dig_verify_otp_input");var dig_verify_otp_input=dig_verify_otp.val();if(dig_verify_otp_input.length==0){dig_verify_otp.addClass("dig_input_error").closest(".digits-input-wrapper").append(requiredTextElement);return false}otp_box.val(dig_verify_otp_input);otp_submit_button.trigger("click")});jQuery(document).on("click",".dig_lrf_box .loginviasms",function(){otp_submit_button=jQuery(this);submit_form=jQuery(this).closest("form");update_time_button=jQuery(this);var countryCode=submit_form.find(".logincountrycode").val();var csrf=jQuery(".dig_nounce").val();var phoneNumber=submit_form.find(".dig-mobmail").val();jQuery(".dig_otp_submit_button").removeClass("dig_otp_submit_button");jQuery(this).addClass("dig_otp_submit_button");if(phoneNumber==""||countryCode==""){showDigErrorMessage(dig_log_obj.InvalidMobileNumber);return}if(!is_mobile(phoneNumber)||!isNumeric(countryCode)){showDigErrorMessage(dig_log_obj.InvalidMobileNumber);return}var captcha_accept=submit_form.find(".dig_login_captcha").val();if(captcha_accept==1){captcha_reg_field=submit_form.find("input[name='digits_reg_logincaptcha']").val();captcha_ses_reg_field=submit_form.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val();if(captcha_reg_field.length==0){showDigErrorMessage("Please enter a valid captcha!");return}}if(jQuery(this).attr("verify")==1){var otpin=submit_form.find(".dig_login_otp");verifyOtp(countryCode,phoneNumber,csrf,otpin.find("input").val(),1);return}if(is_mobile(phoneNumber)){akCallback="loginCallback";verifyMobileNoLogin(countryCode,formatMobileNumber(phoneNumber),csrf,1)}else if(phoneNumber.length>0){showDigNoticeMessage(dig_log_obj.Thisfeaturesonlyworkswithmobilenumber)}else{akCallback="loginCallback";verifyMobileNoLogin(countryCode,formatMobileNumber(phoneNumber),csrf)}});var submit_form;jQuery(document).on("click",".dig_verify_mobile_no",function(){update_time_button=jQuery(this);otp_submit_button=jQuery(this);submit_form=jQuery(this).closest("form");var countryCode=submit_form.find(".logincountrycode").val();var csrf=jQuery(".dig_nounce").val();var phoneNumber=submit_form.find(".dig-mobmail").val();if(phoneNumber==""||countryCode==""){showDigErrorMessage(dig_log_obj.InvalidMobileNumber);return}if(!is_mobile(phoneNumber)||!isNumeric(countryCode)){showDigErrorMessage(dig_log_obj.InvalidMobileNumber);return}var dig_otp=submit_form.find(".dig_login_otp");if(jQuery(this).attr("verify")==1){verifyOtp(countryCode,phoneNumber,csrf,dig_otp.find("input").val(),11);return}if(is_mobile(phoneNumber)){akCallback="updateFormVerfication";verifyMobileNoLogin(countryCode,phoneNumber,csrf,11)}});jQuery(".wpnotif_subscribe").on("submit",function(e){submit_form=jQuery(this);update_time_button=submit_form.find('[type="submit"]');otp_submit_button=update_time_button;tokenCon=submit_form;if(!submit_form.find(".wpnotif_otp_field").length){return true}if(submit_form.data("verify")!==1){username_reg_field="";email_reg_field="";var countryCode=submit_form.find(".wpnotif_countrycode").val();var csrf=dig_log_obj.nonce;var phoneNumber=submit_form.find(".wpnotif_phone").val();var otp=submit_form.find(".wpnotif_otp").val();if(submit_form.data("send_otp")!==1){verifyMobileNoLogin(countryCode,phoneNumber,csrf,101)}else{verifyOtp(countryCode,phoneNumber,csrf,otp,101)}return false}else{return true}});function updateFormVerfication(response){if(response.status==="PARTIALLY_AUTHENTICATED"){var code=response.code;var csrf=response.state;showDigitsModal(false);submit_form.find(".digits_code").val(code);submit_form.find(".digits_csrf").val(csrf);submit_form.submit()}else{showDigitsModal(true)}}var lastotpmobileNo,lastotpcountrycode,lastotpDtype;function verifyOtp(countryCode,phoneNumber,csrf,otp,dtype){dismissLoader=false;hideDigMessage();loader.show();if(isFirebase==1)verify_firebase_otp(countryCode,phoneNumber,csrf,otp,dtype);else verify_cust_otp(countryCode,phoneNumber,csrf,otp,dtype,-1)}function verify_firebase_otp(countryCode,phoneNumber,csrf,otp,dtype){phoneNumber=filter_mobile(phoneNumber);countryCode=countryCode.replace(/^0+/,"");if(otp==null||otp.length==0){loader.hide();showDigErrorMessage(dig_log_obj.InvalidOTP);return}window.confirmationResult.confirm(otp).then(function(result){firebase.auth().currentUser.getIdToken(true).then(function(idToken){window.verifyingCode=false;window.confirmationResult=null;jQuery("#dig_ftok_fbase").remove();tokenCon.append("<input type='hidden' name='dig_ftoken' value='"+idToken+"' id='dig_ftok_fbase' />");verify_cust_otp(countryCode,phoneNumber,csrf,otp,dtype,idToken)}).catch(function(error){loader.hide();showDigErrorMessage(error)})}).catch(function(error){loader.hide();showDigErrorMessage(dig_log_obj.InvalidOTP)})}function verify_cust_otp(countryCode,phoneNumber,csrf,otp,dtype,idToken){if(lastotpcountrycode==countryCode&&lastotpmobileNo==phoneNumber&&lastotpDtype==otp){loader.hide();return}lastotpcountrycode=countryCode;lastotpmobileNo=phoneNumber;lastotpDtype=otp;var rememberMe=0;if(submit_form!=null){if(submit_form.find(".digits_login_remember_me").length){rememberMe=submit_form.find(".digits_login_remember_me:checked").length>0}}jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:{action:"digits_verifyotp_login",countrycode:countryCode,mobileNo:phoneNumber,otp:otp,dig_ftoken:idToken,csrf:csrf,dtype:dtype,digits:1,rememberMe:rememberMe},success:function(res){if(isJSON(res)){if(res.data===undefined||res.data.code===undefined){res=res}else{if(res.success===false&&res.data.msg){loader.hide();showDigErrorMessage(res.data.msg);return}if(res.data.error_msg){loader.hide();if(res.data.error_type){showDigMessage(res.data.error_msg,res.data.error_type)}else{showDigErrorMessage(res.data.error_msg)}return}if(res.data.redirect){showDigLoginSuccessMessage();digits_redirect(res.data.redirect);return}res=res.data.code}}else{res=res.trim()}if(res!=11)loader.hide();if(res==1011){showDigErrorMessage(dig_log_obj.error);return}if(res==1013){showDigErrorMessage(dig_log_obj.error);return}if(res==-99){showDigErrorMessage(dig_log_obj.invalidcountrycode);return}if(dtype==11&&res!=0){submit_form.submit();return}if(res==0){showDigErrorMessage(dig_log_obj.InvalidOTP);return}else if(res==11){showDigLoginSuccessMessage();if(submit_form!=null){var redirect=submit_form.find('input[name="digits_redirect_page"]');if(redirect.length){var redirect_url=redirect.val();if(redirect_url.length&&redirect_url.length>0){digits_redirect(redirect_url);return}}}if(jQuery("#digits_redirect_page").length){digits_redirect(jQuery("#digits_redirect_page").val())}else digits_redirect(dig_log_obj.uri);return}else if(res==-1&&dtype!=2&&dtype!=101){showDigErrorMessage(dig_log_obj.ErrorPleasetryagainlater);return}else if(res==1&&dtype==2){showDigErrorMessage(dig_log_obj.MobileNumberalreadyinuse);return}if(dtype==101){if(submit_form.hasClass("wpnotif_subscribe")){submit_form.data("verify",1).trigger("submit")}}else if(dtype==2){registerStatus=1;regForm.find(".registerbutton").attr("verify",3).trigger("click")}else if(dtype==3){forgotForm.find(".changepassword .minput").each(function(){jQuery(this).show()});forgotForm.find(".dig_forgot_otp").slideUp();forgotForm.find(".forgotpasscontainer").slideUp();forgotForm.find(".changepassword").slideDown();forgotForm.find(".digits_csrf").val(csrf);forgotForm.find(".dig_logof_forg_resend").hide();update_time_button.val(prv).text(prv);passchange=1;if(otp_container.length){otp_container.hide();forgot.show()}}}})}var prv=-1;var forgotpass=jQuery(".dig_lrf_box .forgotpass");var passchange=0;if(jQuery("#digits_forgotPassChange").length){passchange=1}var forgotForm;jQuery(document).on("click",".dig_lrf_box .forgotpassword",function(){update_time_button=jQuery(this);forgotForm=jQuery(this).closest("form");submit_form=forgotForm;if(prv==-1)prv=jQuery(this).val();var forgot_field=forgotForm.find(".forgotpass");var forgot=jQuery.trim(forgot_field.val());var countryCode=forgotForm.find(".forgotcountrycode").val();var csrf=jQuery(".dig_nounce").val();var passBox=forgotForm.find(".digits_password");var cpassBox=forgotForm.find(".digits_cpassword");if(passBox.is(":visible")){forgot_field.removeAttr("required");return true}if(jQuery(this).attr("verify")==1&&passchange!=1){var otpin=forgotForm.find(".dig_forgot_otp");verifyOtp(countryCode,forgot,csrf,otpin.find("input").val(),3);return false}if(passchange==1){var pass=passBox.val();var cpass=cpassBox.val();if(pass!=cpass){showDigErrorMessage(dig_log_obj.Passworddoesnotmatchtheconfirmpassword);return false}return true}if(validateEmail(forgot)&&forgot!=""){passBox.removeAttr("required");cpassBox.removeAttr("required");return true}else{var countryCode=forgotForm.find(".forgotcountrycode").val();if(forgot==""||countryCode==""){return}if(is_mobile(forgot)){akCallback="forgotCallBack";verifyMobileNoLogin(countryCode,forgot,csrf,3)}else{showDigErrorMessage(dig_log_obj.Invaliddetails)}}return false});var dig_log_reg_button=0;jQuery(document).on("click",".dig_lrf_box .dig_reg_btn_password",function(){hideDigMessage();if(jQuery(this).attr("verify")==3){return}var dis=jQuery(this).attr("attr-dis");var form=jQuery(this).closest("form");var digPassReg=form.find(".digits_reg_password");var dig_otp_signup=form.find(".dig-signup-otp");if(dis==0){return false}digPassReg.attr("required","");dig_otp_signup.hide();digPassReg.closest(".minput").fadeIn("fast");jQuery(this).addClass("registerbutton");jQuery(this).attr("attr-dis",0);dig_log_reg_button=0;return false});var requiredTextElement="<span class='dig_field_required_text'>"+dig_log_obj.required+"</span>";var registerStatus=0;jQuery(document).on("click",'.dig_login_rembe input[type="checkbox"], .dig_opt_mult input[type="checkbox"], .dig_opt_mult input[type="radio"]',function(){var $this=jQuery(this);if($this.is(":radio")){$this.closest(".dig_opt_mult_con").find(".selected").removeClass("selected")}if(!$this.is(":checked")){$this.closest("label").removeClass("selected")}else{$this.closest("label").addClass("selected")}if(jQuery(this).attr("data-all")){jQuery("."+jQuery(this).attr("data-all")).each(function(){if(jQuery(this).is(":checked")!==$this.is(":checked")){jQuery(this).attr("checked",$this.is(":checked")).trigger("change")}})}});jQuery(document).on("keyup change focusin",".dig_input_error",function(){var minput=jQuery(this).closest(".minput");minput.removeClass("input-error").find(".dig_input_error").removeClass("dig_input_error");minput.find(".dig_field_required_text").remove()});var regForm;jQuery(".dig_lrf_box .registerbutton").on("click",function(){hideDigMessage();if(jQuery(this).attr("attr-dis")&&jQuery(this).attr("attr-dis")==1){return}regForm=jQuery(this).closest("form");submit_form=regForm;regForm.find(".dig_otp_submit_button").removeClass("dig_otp_submit_button");jQuery(this).addClass("dig_otp_submit_button");var dig_otp_signup=regForm.find(".dig-signup-otp");update_time_button=regForm.find(".dig-signup-otp");if(!update_time_button.length){update_time_button=jQuery(this)}if(!jQuery(this).hasClass("dig_use_whatsapp")&&update_time_button.hasClass("dig_use_whatsapp")){update_time_button=jQuery(this)}var digPassReg=regForm.find(".digits_reg_password");var name,mail,pass,secmail;var mail_field=regForm.find(".digits_reg_email");var secmail_field=regForm.find(".dig-secondmailormobile");name=jQuery.trim(regForm.find(".digits_reg_name").val());secmail=jQuery.trim(secmail_field.val());mail=jQuery.trim(mail_field.val());pass=jQuery.trim(digPassReg.val());var digit_fields=JSON.parse(regForm.find(".digits_form_reg_fields").val());var pass_accept=digit_fields["dig_reg_password"];var mobile_accept=digit_fields["dig_reg_mobilenumber"];var mail_accept=digit_fields["dig_reg_email"];if(dig_log_obj.strong_pass==1){if(pass_accept==2||pass.length>0){try{var strength=wp.passwordStrength.meter(pass,["black","listed","word"],pass);if(strength!=null&&strength<3){showDigNoticeMessage(dig_log_obj.useStrongPasswordString);return false}}catch(e){}}}var dis=jQuery(this).attr("attr-dis");var csrf=jQuery(".dig_nounce").val();var error=false;regForm.find("input,textarea,select").each(function(){if(jQuery(this).attr("required")||jQuery(this).attr("data-req")){var $this=jQuery(this);var dtype=$this.attr("dtype");if(dtype&&dtype=="range"){var range=$this.val().split("-");if(!range[1]){error=true;$this.addClass("dig_input_error").closest(".digits-input-wrapper").append(requiredTextElement).closest(".minput").addClass("input-error");$this.val("")}}if($this.attr("date")){var is_error=false;if(dtype=="time"){var validTime=$this.val().match(/^(0?[1-9]|1[012])(:[0-5]\d) [APap][mM]$/);if(!validTime){is_error=true}}else if(dtype!="range"){var date=new Date($this.val());if(!isDateValid(date)){is_error=true}}else{var date1=new Date(range[0]);var date2=new Date(range[1]);if(!isDateValid(date1)||!isDateValid(date2)){is_error=true}}if(is_error){error=true;$this.addClass("dig_input_error").closest(".digits-input-wrapper").append(requiredTextElement).closest(".minput").addClass("input-error");$this.val("")}}else if($this.is(":checkbox")||$this.is(":radio")){if(!$this.is(":checked")&&!regForm.find('input[name="'+$this.attr("name")+'"]:checked').val()){error=true;$this.addClass("dig_input_error").closest(".minput").addClass("input-error").append(requiredTextElement)}}else{var value=$this.val();if(value==null||value.length==0||value==-1&&$this.is("select")){error=true;if($this.is("select")){$this.addClass("dig_input_error").next().addClass("dig_input_error").append(requiredTextElement).closest(".minput").addClass("input-error")}else{$this.addClass("dig_input_error").closest(".digits-input-wrapper").append(requiredTextElement).closest(".minput").addClass("input-error");$this.trigger("focus")}}}}});if(regForm.find(".dig_input_error").length==1){if(regForm.find(".dig_opt_mult_con_tac").find(".dig_input_error").length>0){showDigErrorMessage(dig_log_obj.accepttac);return false}}if(error){showDigNoticeMessage(dig_log_obj.fillAllDetails);return false}if(regForm.attr("wait")){showDigNoticeMessage(regForm.attr("wait"));return false}if(regForm.attr("error")){showDigErrorMessage(regForm.attr("error"));return false}if(mobile_accept==0&&mail_accept==0){return true}if(dis==1&&dig_otp_signup.length&&registerStatus!=1){digPassReg.attr("required","");dig_otp_signup.hide();digPassReg.parent().show().parent().fadeIn();jQuery(this).attr("attr-dis",-1);dig_log_reg_button=0;jQuery(window).trigger("resize");return false}else if(!dis){if(pass_accept==2&&pass.length==0){showDigErrorMessage(dig_log_obj.Invaliddetails);return false}if(pass_accept>0&&pass.length==0&&validateEmail(mail)&&validateEmail(secmail)&&!is_mobile(mail)&&!is_mobile(secmail)){showDigNoticeMessage(dig_log_obj.eitherenterpassormob);return false}}if(jQuery(this).attr("verify")==1){var otp=regForm.find(".dig_register_otp").find("input").val();if(is_mobile(mail)){verifyOtp(regForm.find(".registercountrycode").val(),mail,csrf,otp,2);return false}else if(is_mobile(secmail)){verifyOtp(regForm.find(".registersecondcountrycode").val(),secmail,csrf,otp,2);return false}return false}if(registerStatus==1){return true}var dis=jQuery(this).attr("attr-dis");if(is_mobile(mail)&&is_mobile(secmail)&&secmail.length>0){showDigErrorMessage(dig_log_obj.InvalidEmail);return false}if(regForm.find(".disable_email_digit").length){if(!is_mobile(mail)){showDigErrorMessage(dig_log_obj.Invaliddetails);return false}}else{if(validateEmail(mail)&&validateEmail(secmail)&&secmail.length>0){showDigErrorMessage(dig_log_obj.Invaliddetails);return false}var dig_reg_mail=regForm.find(".dig_reg_mail");if(validateEmail(mail)){dig_reg_mail.val(mail)}else if(validateEmail(secmail)){dig_reg_mail.val(secmail)}if(mail_accept==2&&!validateEmail(secmail)&&!validateEmail(mail)){showDigErrorMessage(dig_log_obj.InvalidEmail);return false}}if(!regForm.find(".disable_password_digit").length){if(!is_mobile(regForm.find(".digits_reg_email").val())&&!is_mobile(regForm.find(".dig-secondmailormobile").val())){if(pass_accept>0&&pass.length==0){showDigNoticeMessage(dig_log_obj.eitherenterpassormob);return false}}}if(!isEmpty(mail)){if(!is_mobile(mail)&&!validateEmail(mail)||mail_field.data("type")==2&&!is_mobile(mail)){showDigErrorMessage(dig_log_obj.Invaliddetails);return false}}if(!isEmpty(secmail)){if(!is_mobile(secmail)&&!validateEmail(secmail)||secmail_field.data("type")==3&&!validateEmail(secmail)){showDigErrorMessage(dig_log_obj.Invaliddetails);return false}}if(mobile_accept==2&&!is_mobile(mail)&&!is_mobile(secmail)){showDigErrorMessage(dig_log_obj.InvalidMobileNumber);return false}if(regForm.find("#digits_reg_username").length){username_reg_field=regForm.find("#digits_reg_username").val()}if(regForm.find(".dig-custom-field-type-captcha").length){captcha_reg_field=regForm.find(".dig-custom-field-type-captcha").find("input[type='text']").val();captcha_ses_reg_field=regForm.find(".dig-custom-field-type-captcha").find(".dig_captcha_ses").val()}if(is_mobile(mail)){akCallback="registerCallBack";email_reg_field=secmail;verifyMobileNoLogin(regForm.find(".registercountrycode").val(),mail,csrf,2);return false}else if(is_mobile(secmail)){akCallback="registerCallBack";email_reg_field=mail;verifyMobileNoLogin(regForm.find(".registersecondcountrycode").val(),secmail,csrf,2);return false}if(validateEmail(mail)){email_reg_field=mail}else{email_reg_field=secmail}verifyMobileNoLogin(null,null,csrf,2);return false});function registerCallBack(response){if(response.status==="PARTIALLY_AUTHENTICATED"){showDigitsModal(false);var code=response.code;var csrf=response.state;regForm.find(".register_code").val(code);regForm.find(".register_csrf").val(csrf);registerStatus=1;loader.show();regForm.find(".registerbutton").trigger("click")}else{showDigitsModal(true)}}function forgotCallBack(response){showDigitsModal(true);if(response.status==="PARTIALLY_AUTHENTICATED"){passchange=1;var code=response.code;var csrf=response.state;forgotForm.find(".forgotpasscontainer").slideUp();forgotForm.find(".changepassword").slideDown();forgotForm.find(".digits_code").val(code);forgotForm.find(".digits_csrf").val(csrf)}}function validateEmail(email){var re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(String(email).toLowerCase())}var lef=leftDis*3;leftDis=lef*2-9;jQuery(document).on("click",".dig_lrf_box .backtoLogin",function(){if(loginBoxTitle){loginBoxTitle.text(dig_log_obj.login)}var box=jQuery(this).closest(".dig_lrf_box");var login=box.find(".digloginpage");if(!noanim){}else{}login.show().find(".mobile_field").trigger("keyup");box.find(".forgot").hide();box.find(".register").hide();updateModalHeight(login_modal)});jQuery(document).on("click",".dig_lrf_box .signupbutton",function(){var box=jQuery(this).closest(".dig_lrf_box");if(loginBoxTitle){loginBoxTitle.text(dig_log_obj.signup)}box.find(".digloginpage").hide();if(!noanim){}else{}box.find(".register").show().find(".mobile_field").trigger("keyup");updateModalHeight(register_modal)});jQuery(window).on("resize",function(){if(register.is(":visible")){updateModalHeight(register_modal)}else if(dig_modal_conn.is(":visible")){updateModalHeight(login_modal);if(otp_container.length>0)otp_container.css({height:login.outerHeight(true)})}});if(otp_container.length>0){otp_container.css({height:login.outerHeight(true)})}jQuery(document).on("click",".dig_lrf_box .forgotpassworda",function(){if(loginBoxTitle){loginBoxTitle.text(dig_log_obj.ForgotPassword)}var box=jQuery(this).closest(".dig_lrf_box");box.find(".digloginpage").hide();if(!noanim){}else{}box.find(".forgot").show().find(".mobile_field").trigger("keyup");updateModalHeight(forgot_modal)});function hideLogin(){login.hide()}function updateModalHeight(box){dig_modal_conn.css({height:"auto"})}var ew=8;jQuery(document).on("keyup change focusin",".dig_lrf_box .dig-mobmail",function(e){var data_type=jQuery(this).data("type");if(data_type==3)return;var par=jQuery(this).closest(".minput");if(!jQuery(this).data("padding-left"))jQuery(this).data("padding-left",jQuery(this).css("padding-left"));if(show_countrycode_field(jQuery(this))){par.find(".logincountrycodecontainer").css({display:"inline-block"}).find(".logincountrycode").trigger("keyup")}else{var leftPadding=jQuery(this).data("padding-left");par.find(".logincountrycodecontainer").hide();jQuery(this).css({"padding-left":leftPadding})}});jQuery(document).on("keyup change focusin",".dig_lrf_box .logincountrycode",function(e){var size=jQuery(this).val().length+1;if(size<2)size=2;jQuery(this).attr("size",size);var code=jQuery(this).val();if(code.trim().length==0){jQuery(this).val("+")}var par=jQuery(this).closest("form");var pl=ew;par.find(".dig-mobmail").stop().animate({"padding-left":jQuery(this).outerWidth()+pl+"px"},"fast",function(){})});jQuery(document).on("keyup change focusin",".dig_lrf_box .digits_reg_email",function(e){var data_type=jQuery(this).data("type");if(data_type==3)return;var par=jQuery(this).closest("form");if(!jQuery(this).data("padding-left"))jQuery(this).data("padding-left",jQuery(this).css("padding-left"));if(show_countrycode_field(jQuery(this))){par.find(".registercountrycodecontainer").css({display:"inline-block"}).find(".registercountrycode").trigger("keyup")}else{par.find(".registercountrycodecontainer").hide();var leftPadding=jQuery(this).data("padding-left");jQuery(this).css({"padding-left":leftPadding})}updateMailSecondLabel(par)});setTimeout(function(){jQuery(".mobile_field").trigger("keyup")},10);jQuery(document).on("keyup change focusin",".registercountrycode",function(e){var size=jQuery(this).val().length+1;if(size<2)size=2;jQuery(this).attr("size",size);var code=jQuery(this).val();if(code.trim().length==0){jQuery(this).val("+")}var par=jQuery(this).closest("form");var pl=ew;par.find(".digits_reg_email").stop().animate({"padding-left":jQuery(this).outerWidth()+pl+"px"},"fast",function(){});updateMailSecondLabel(par)});secondmailormobile.on("keyup change focusin",function(e){var mobile_accept=jQuery(this).data("mobile");var mail_accept=jQuery(this).data("mail");if(mail_accept==2||mobile_accept==2)return;var par=jQuery(this).closest("form");if(!jQuery(this).data("padding-left"))jQuery(this).data("padding-left",jQuery(this).css("padding-left"));if(show_countrycode_field(jQuery(this))&&!is_mobile(par.find(".digits_reg_email").val())){par.find(".secondregistercountrycodecontainer").css({display:"inline-block"}).find(".registersecondcountrycode").trigger("keyup")}else{par.find(".secondregistercountrycodecontainer").hide();var leftPadding=jQuery(this).data("padding-left");jQuery(this).css({"padding-left":leftPadding})}updateMailSecondLabel(par)});jQuery(document).on("keyup change focusin",".registersecondcountrycode",function(e){var size=jQuery(this).val().length+1;if(size<2)size=2;jQuery(this).attr("size",size);var code=jQuery(this).val();if(code.trim().length==0){jQuery(this).val("+")}var par=jQuery(this).closest("form");var pl=ew;par.find(".dig-secondmailormobile").stop().animate({"padding-left":jQuery(this).outerWidth()+pl+"px"},"fast",function(){});updateMailSecondLabel(par)});forgotpass.on("keyup change focusin",function(e){var data_type=jQuery(this).data("type");if(data_type==3)return;var par=jQuery(this).closest("form");if(!jQuery(this).data("padding-left"))jQuery(this).data("padding-left",jQuery(this).css("padding-left"));if(show_countrycode_field(jQuery(this))){par.find(".forgotcountrycodecontainer").css({display:"inline-block"}).find(".forgotcountrycode").trigger("keyup")}else{par.find(".forgotcountrycodecontainer").hide();var leftPadding=jQuery(this).data("padding-left");jQuery(this).css({"padding-left":leftPadding})}});jQuery(document).on("keyup change focusin",".forgotcountrycode",function(e){var size=jQuery(this).val().length+1;if(size<2)size=2;jQuery(this).attr("size",size);var code=jQuery(this).val();if(code.trim().length==0){jQuery(this).val("+")}var pl=ew;jQuery(this).closest("form").find(".forgotpass").stop().animate({"padding-left":jQuery(this).outerWidth()+pl+"px"},"fast",function(){})});var prevInftype=0;function updateMailSecondLabel(par){var secondmailormobile=par.find(".dig-secondmailormobile");if(secondmailormobile==null)return;var mailsecond=secondmailormobile.closest(".dig-mailsecond");if(mailsecond.data("always-show"))return;var con_field=par.find(".digits_reg_email");var con=con_field.val();var cc=secondmailormobile.val();if(con==undefined)return;var mobile_accept=secondmailormobile.data("mobile");var mail_accept=secondmailormobile.data("mail");if(is_mobile(con)&&inftype!=1||mail_accept==2|con_field.data("type")==2){inftype=1;par.find(".dig_secHolder").html(dig_log_obj.Email)}else if(!is_mobile(con)&&inftype!=2&&mobile_accept!=2){inftype=2;par.find(".dig_secHolder").html(dig_log_obj.Mobileno)}if(secondmailormobile.attr("placeholder")&&prevInftype!=inftype){prevInftype=inftype;var input_label=par.find(".dig_secHolder").closest("label").text().replace(/\s\s+/g," ");secondmailormobile.attr("placeholder",input_label)}if(mail_accept!=2&&mobile_accept!=2){if(con==""||con.length==0){mailsecond.hide();if(isSecondMailVisible)jQuery(window).trigger("resize");isSecondMailVisible=false;return}if(!isSecondMailVisible){mailsecond.fadeIn();jQuery(window).trigger("resize");isSecondMailVisible=true}else return}}jQuery(document).on("click",".minput label",function(e){jQuery(this).closest(".minput").find("input").first().trigger("focus")});jQuery(document).on("animationstart",".minput input,.minput textarea",function(e){jQuery(this).trigger("focusin")});jQuery(document).on("change blur focusin",".minput input,.minput textarea",function(e){if(jQuery(this).hasClass("countrycode"))return;var action_type=e.type;tmpval=jQuery(this).val();var parent=jQuery(this).parent();if(tmpval==""&&!show_countrycode_field(jQuery(this))&&action_type!="focusin"){parent.addClass("empty").removeClass("not-empty");jQuery(this).addClass("empty").removeClass("not-empty")}else{parent.addClass("not-empty").removeClass("empty");jQuery(this).addClass("not-empty").removeClass("empty")}if(action_type=="focusin"){jQuery(this).closest(".minput").addClass("digits-active")}else{jQuery(this).closest(".minput").removeClass("digits-active")}});jQuery(".minput input,.minput textarea").trigger("blur");function processAccountkitLogin(countrycode,phoneNumber){hideDigitsModal()}setTimeout(function(){jQuery(".minput").find("input,textarea").each(function(){jQuery(this).triggerHandler("blur")})},500);function formatMobileNumber(number){return filter_mobile(number)}var elem=jQuery(".digit_cs-list");var selected_input;var isShown=0;jQuery(window).on("popstate",function(e){if(elem.is(":visible")){isShown=0;hide_country_list()}});jQuery(document).on("focus",".countrycode",function(e){var elem_type=elem.data("type");selected_input=jQuery(this);if(elem_type=="mobile"){window.history.pushState({state:"open_countrycode"},null,"");elem.show().parent().fadeIn("fast",function(){jQuery(this).find(".countrycode_search").trigger("focus")});isShown=1;return}var $this=jQuery(this).parent().parent();var parentForm=$this;parentForm.append(elem);var nextNode=elem.find("li.selected");highlight(nextNode);elem.css({top:$this.outerHeight(false)-1}).show();isShown=1});jQuery(document).on("click",".digits-hide-countrycode",function(){if(elem.is(":visible")&&isShown==1){history.back()}});jQuery(document).on("focusout",".countrycode",function(e){var elem_type=elem.data("type");if(elem_type=="mobile")return;elem.hide();isShown=0});function hide_country_list(){elem.parent().fadeOut("fast",function(){elem.find(".countrycode_search").val("").trigger("keydown")});isShown=0}jQuery(document).on("keydown",".countrycode, .countrycode_search",function(e){if(isShown==0)jQuery(this).trigger("focus");switch(e.which){case 38:var visibles=elem.find("li.dig-cc-visible:not([disabled])");var nextNode=elem.find("li.selected").prev();var nextIndex=visibles.index(nextNode.length>0?nextNode:visibles.last());highlight(nextIndex);e.preventDefault();return false;break;case 40:var visibles=elem.find("li.dig-cc-visible:not([disabled])");var nextNode=elem.find("li.selected").next();var nextIndex=visibles.index(nextNode.length>0?nextNode:visibles.first());highlight(nextIndex);e.preventDefault();return false;break;case 13:selectCode();return false;break;case 9:case 27:var elem_type=elem.data("type");if(elem_type!="mobile")elem.hide();break;default:var hiddens=0;var curInput=jQuery(document.activeElement);var input=curInput.val().toLowerCase().trim().replace(/[^a-z]+/gi,"");elem.find("li").each(function(index){var attr=jQuery(this).data("country");if(attr.startsWith(input)){highlight(index);return false}});break}});function selectCode(){if(elem.is(":visible")){var selEle;selEle=elem.find("li.selected");if(!selEle.length){selEle=elem.find("li").first()}selected_input.val("+"+selEle.attr("value")).trigger("keyup");if(elem.data("type")=="mobile"){elem.parent().find(".digits-hide-countrycode").trigger("click")}else{elem.hide()}isShown=0}}function highlight(index){setTimeout(function(){var visibles=elem.find("li");var oldSelected=elem.find("li.selected").removeClass("selected");var oldSelectedIndex=visibles.index(oldSelected);if(visibles.length>0){var selectedIndex=(visibles.length+index)%visibles.length;var selected=visibles.eq(selectedIndex);var top=0;if(selected.length>0){top=selected.position().top;selected.addClass("selected")}if(selectedIndex>oldSelectedIndex&&top+selected.outerHeight()>elem.outerHeight()){elem.scrollTo(".selected")}else{elem.scrollTop(elem.scrollTop()+top)}}})}elem.on("mousemove","li:not([disabled])",function(){elem.find(".selected").removeClass("selected");jQuery(this).addClass("selected")}).on("mousedown click","li",function(e){if(elem.is("[disabled]"))e.preventDefault();else{elem.find(".selected").removeClass("selected");jQuery(this).addClass("selected")}selectCode()}).on("mouseup",function(){elem.find("li.selected").removeClass("selected")});function hideDigitsModal(){body.addClass("dig_low_overlay");loader.show();hideDigMessage();if(modcontainer.length){modcontainer.hide()}}function showDigitsModal(hideLoader){body.removeClass("dig_low_overlay");if(hideLoader)loader.hide();if(modcontainer.length){modcontainer.show()}}function lockScroll(){$html=jQuery("html");$body=jQuery("body");var initWidth=$body.outerWidth();var initHeight=$body.outerHeight();var scrollPosition=[self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop];$html.data("scroll-position",scrollPosition);$html.data("previous-overflow",$html.css("overflow"));$html.css("overflow","hidden");window.scrollTo(scrollPosition[0],scrollPosition[1]);var marginR=$body.outerWidth()-initWidth;var marginB=$body.outerHeight()-initHeight;$body.css({"margin-right":marginR,"margin-bottom":marginB})}function unlockScroll(){$html=jQuery("html");$body=jQuery("body");$html.css("overflow",$html.data("previous-overflow"));var scrollPosition=$html.data("scroll-position");if(!scrollPosition)return;window.scrollTo(scrollPosition[0],scrollPosition[1]);$body.css({"margin-right":0,"margin-bottom":0})}jQuery(document).on("click touchstart",".dig_popmessage",function(){hideDigMessage()});if(jQuery(".dig_bdy_container").length){var reg;var ecd=jQuery(".dig_powrd");var b=jQuery(".dig_clg_bx");var c=jQuery(".logocontainer");var logp=jQuery(".digloginpage");var regp=jQuery(".register");var digc=jQuery(".dig-container");var digimgCon=jQuery(".dig_ul_left_side");var header=jQuery(".header");var dig_ma_box=jQuery(".dig_lrf_box");var otp_container=jQuery(".dig_verify_mobile_otp_container");jQuery(window).on("resize",function(){updatePos()});var updateLeftBx=function(){digimgCon.height(jQuery(document).height())};function updatePos(){if(regp.is(":visible")){reg=1}else if(otp_container.length>0&&otp_container.is(":visible")){reg=2}else reg=0;updatebox(reg)}function updatebox(upRegHe){var f,at;var minTo=90;if(c.length>0){f=c.height();at=25}else{f=0;at=0}var h=jQuery(window).height();var boxh=logp.outerHeight(true)+44;if(upRegHe==1){var regh=regp.outerHeight(true)+44;if(regh>boxh){boxh=regh}}else if(upRegHe==2){var regh=otp_container.outerHeight(true)+44;if(regh>boxh){boxh=regh}}var ecdH=0;if(ecd.length){ecdH=ecd.outerHeight(true)}var t=(h-f-boxh+at+ecdH+28)/2;var min_top=70;if(!header.is(":visible")){min_top=60;minTo=min_top+20}if(c.length>0)c.stop().animate({top:Math.max(min_top,t-at),opacity:1},200);b.stop().animate({top:Math.max(minTo,t),opacity:1},200);digc.height(boxh);if(ecd.length){ecd.animate({opacity:"1"})}}jQuery(document).on("click",".signupbutton",function(){updatebox(true)});jQuery(document).on("click",".backtoLogin",function(){updatebox(false)});setTimeout(function(){updatePos()})}function isJSON(data){if(typeof data!="string")data=JSON.stringify(data);try{JSON.parse(data);return true}catch(e){return false}}function isDateValid(date){return date.getTime()===date.getTime()}var country_code_field;jQuery(document).on("focus",".mobile_field",function(){getCountryCodeField(jQuery(this))});function getCountryCodeField($this){var parent=$this.parent().parent();country_code_field=parent.find(".countrycode,.wpnotif_countrycode");return country_code_field}var bypassKey=false;jQuery(document).on("change",".minput .countrycode, input[name='digt_countrycode']",function(){bypassKey=true;jQuery(this).closest(".minput").find(".mobile_field").trigger("keyup")});jQuery(document).on("change",".wpnotif_countrycode",function(){bypassKey=true;jQuery(this).closest(".wpnotif_phonefield").find(".mobile_field").trigger("keyup")});jQuery(document).on("keyup",".mobile_field",function(e){var $this=jQuery(this);var input=$this.val();if(!bypassKey){if(!isNumeric(input))return}bypassKey=false;if(!country_code_field)getCountryCodeField(jQuery(this));if($this.hasClass("mobile_format")){if(!dig_begins_with(input)){if(country_code_field.length){input=country_code_field.val()+""+input}}}var phone_obj=libphonenumber.parsePhoneNumberFromString(input);if(typeof phone_obj!="undefined"){var countrycode=phone_obj.countryCallingCode;var phone_number=phone_obj.nationalNumber;if($this.hasClass("mobile_format")){if(dig_log_obj.dig_mobile_no_formatting==1){phone_number=jQuery.trim(phone_obj.formatInternational().replace("+"+countrycode,""));phone_number=phone_number.replace(/^0+/,"")}else if(dig_log_obj.dig_mobile_no_formatting==2){phone_number=phone_obj.formatNational().replace(/^0+/,"")}if(countrycode=="242"||countrycode=="225"){phone_number="0"+phone_number}}$this.val(phone_number);if(country_code_field.length&&dig_log_obj.dig_hide_ccode==0){country_code_field.val("+"+countrycode);if(!country_code_field.is(":visible")&&!$this.hasClass("dig-attr-cc-key")){$this.addClass("dig-attr-cc-key");$this.trigger("keyup")}}}else{$this.removeClass("dig-attr-cc-key")}});jQuery(".digits_login, .digits_register, .digits_forgot_pass").on("submit",function(e){e.preventDefault();if(jQuery(this).attr("data-processing")==1)return;jQuery(this).attr("data-processing",1);process_form(jQuery(this));return false});function process_form(form){hideDigMessage();loader.show();jQuery.ajax({type:"post",url:dig_log_obj.ajax_url,data:form.serialize()+"&action=digits_submit_form",success:function(res){form.attr("data-processing",0);if(isJSON(res)){if(res.success===true){if(dig_log_obj.login_reg_success_msg==1||!res.data.redirect){if(res.data.notice){showDigNoticeMessage(res.data.msg)}else{showDigSuccessMessage(res.data.msg)}}if(res.data.redirect){digits_redirect(res.data.redirect)}else{loader.hide()}}else{loader.hide();if(res.data.level==1){showDigNoticeMessage(res.data.msg)}else{showDigErrorMessage(res.data.msg)}}}},error:function(){loader.hide();showDigErrorMessage(dig_log_obj.Error);form.attr("data-processing",0)}})}function digits_show(elem_show){var elem=jQuery(elem_show);if(elem.length){var overlay=elem;if(!elem.hasClass("digits-overlay")){overlay=elem.closest(".digits-overlay")}if(elem.hasClass("digits_no_dismiss")||overlay.hasClass("digits_no_dismiss"))return;var effects=elem.find(".digits-effects-element");if(effects.length){elem.addClass(effects.data("animation"))}elem.find(".mobile_field").trigger("keyup");elem.fadeIn("fast")}}jQuery(document).on("click",".digits-overlay-close",function(){var overlay=jQuery(this).closest(".digits-overlay");if(overlay.hasClass("digits_no_dismiss"))return;unlockScroll();overlay.fadeOut("fast");jQuery("body").removeClass("digits-no-overflow")})});function show_countrycode_field(mobile_field){var mobile_number=mobile_field.val();var data_type=mobile_field.data("type");if(dig_log_obj.dig_hide_ccode==1){return false}else if(data_type==2){return true}else if(is_mobile(mobile_number)){return!dig_begins_with(mobile_number)}return false}function dig_begins_with(mobile_number){if(mobile_number.substring(0,1)=="+"){return true}return false}function filter_mobile(mobile_number){mobile_number=convert_number.toNormal(mobile_number);mobile_number=mobile_number.replace(/[-+ )(]/g,"");return mobile_number.replace(/^0+/,"")}function is_mobile(mobile_number){mobile_number=convert_number.toNormal(mobile_number);mobile_number=mobile_number.replace(/[- )(]/g,"");return isNumeric(mobile_number)}function digits_redirect(redirect_location){var delay=500;if(dig_log_obj.login_reg_success_msg==0){delay=0}setTimeout(function(){var digits_redirect_page=jQuery("input[name='digits_redirect_page']");if(digits_redirect_page.length){var requested_redirect=digits_redirect_page.val();if(requested_redirect.length>0){window.location.href=jQuery.trim(requested_redirect);return}}if(redirect_location=="-1"){location.reload()}else{window.location.href=redirect_location}},delay)}function showDigLoginSuccessMessage(){if(dig_log_obj.login_reg_success_msg==1)showDigSuccessMessage(dig_log_obj.login_success)}function showDigErrorMessage(message){showDigMessage(message,3)}function showDigNoticeMessage(message){showDigMessage(message,2)}function showDigSuccessMessage(message){showDigMessage(message,1)}function showDigMessage(message,alert_type){jQuery(".dig_error_message").remove();jQuery("body").append("<div class='dig_popmessage dig_popmessage_right dig_error_message'><div class='dig_popmessage_contents'><div class='dig_firele'></div><div class='dig_lasele'><div class='dig_lase_snap'></div><div class='dig_lase_message'>"+message+"</div></div><div class='dig_popdismiss'></div></div></div>");var alert_class;var message_type;if(alert_type===1){alert_class="dig_success_msg";message_type=dig_log_obj.yay}else if(alert_type===2){alert_class="dig_notice_msg";message_type=dig_log_obj.notice}else{alert_class="dig_critical_msg";message_type=dig_log_obj.ohsnap}jQuery(".dig_popmessage").show().removeClass("dig_success_msg dig_notice_msg dig_critical_msg").addClass(alert_class+" dig_popBounceInRight").find(".dig_lase_snap").text(message_type)}function hideDigMessage(){jQuery(".dig_popmessage").fadeOut("fast",function(){jQuery(this).remove()})}function isNumeric(str){if(typeof str!="string")return false;return!isNaN(str)&&!isNaN(parseFloat(str))}var convert_number=function(){var numerals={persian:["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹"],arabic:["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"]};return{toNormal:function(str){var num,i,len=str.length,result="";for(i=0;i<len;i++){num=numerals["persian"].indexOf(str[i]);num=num!=-1?num:numerals["arabic"].indexOf(str[i]);if(num==-1)num=str[i];result+=num}return result}}}();
/*! odometer 0.4.8 */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=[].slice;q='<span class="odometer-value"></span>',n='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+q+"</span></span>",d='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+n+"</span></span>",g='<span class="odometer-formatting-mark"></span>',c="(,ddd).dd",h=/^\(?([^)]*)\)?(?:(.)(d+))?$/,i=30,f=2e3,a=20,j=2,e=.5,k=1e3/i,b=1e3/a,o="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",y=document.createElement("div").style,p=null!=y.transition||null!=y.webkitTransition||null!=y.mozTransition||null!=y.oTransition,w=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,s=function(a){var b;return b=document.createElement("div"),b.innerHTML=a,b.children[0]},v=function(a,b){return a.className=a.className.replace(new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi")," ")},r=function(a,b){return v(a,b),a.className+=" "+b},z=function(a,b){var c;return null!=document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0),a.dispatchEvent(c)):void 0},u=function(){var a,b;return null!=(a=null!=(b=window.performance)&&"function"==typeof b.now?b.now():void 0)?a:+new Date},x=function(a,b){return null==b&&(b=0),b?(a*=Math.pow(10,b),a+=.5,a=Math.floor(a),a/=Math.pow(10,b)):Math.round(a)},A=function(a){return 0>a?Math.ceil(a):Math.floor(a)},t=function(a){return a-x(a)},C=!1,(B=function(){var a,b,c,d,e;if(!C&&null!=window.jQuery){for(C=!0,d=["html","text"],e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(function(a){var b;return b=window.jQuery.fn[a],window.jQuery.fn[a]=function(a){var c;return null==a||null==(null!=(c=this[0])?c.odometer:void 0)?b.apply(this,arguments):this[0].odometer.update(a)}}(a));return e}})(),setTimeout(B,0),m=function(){function a(b){var c,d,e,g,h,i,l,m,n,o,p=this;if(this.options=b,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;this.el.odometer=this,m=a.options;for(d in m)g=m[d],null==this.options[d]&&(this.options[d]=g);null==(h=this.options).duration&&(h.duration=f),this.MAX_VALUES=this.options.duration/k/j|0,this.resetFormat(),this.value=this.cleanValue(null!=(n=this.options.value)?n:""),this.renderInside(),this.render();try{for(o=["innerHTML","innerText","textContent"],i=0,l=o.length;l>i;i++)e=o[i],null!=this.el[e]&&!function(a){return Object.defineProperty(p.el,a,{get:function(){var b;return"innerHTML"===a?p.inside.outerHTML:null!=(b=p.inside.innerText)?b:p.inside.textContent},set:function(a){return p.update(a)}})}(e)}catch(q){c=q,this.watchForMutations()}}return a.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},a.prototype.watchForMutations=function(){var a,b=this;if(null!=l)try{return null==this.observer&&(this.observer=new l(function(a){var c;return c=b.el.innerText,b.renderInside(),b.render(b.value),b.update(c)})),this.watchMutations=!0,this.startWatchingMutations()}catch(c){a=c}},a.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},a.prototype.stopWatchingMutations=function(){var a;return null!=(a=this.observer)?a.disconnect():void 0},a.prototype.cleanValue=function(a){var b;return"string"==typeof a&&(a=a.replace(null!=(b=this.format.radix)?b:".","<radix>"),a=a.replace(/[.,]/g,""),a=a.replace("<radix>","."),a=parseFloat(a,10)||0),x(a,this.format.precision)},a.prototype.bindTransitionEnd=function(){var a,b,c,d,e,f,g=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,b=!1,e=o.split(" "),f=[],c=0,d=e.length;d>c;c++)a=e[c],f.push(this.el.addEventListener(a,function(){return b?!0:(b=!0,setTimeout(function(){return g.render(),b=!1,z(g.el,"odometerdone")},0),!0)},!1));return f}},a.prototype.resetFormat=function(){var a,b,d,e,f,g,i,j;if(a=null!=(i=this.options.format)?i:c,a||(a="d"),d=h.exec(a),!d)throw new Error("Odometer: Unparsable digit format");return j=d.slice(1,4),g=j[0],f=j[1],b=j[2],e=(null!=b?b.length:void 0)||0,this.format={repeating:g,radix:f,precision:e}},a.prototype.render=function(a){var b,c,d,e,f,g,h;for(null==a&&(a=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",f=this.options.theme,b=this.el.className.split(" "),e=[],g=0,h=b.length;h>g;g++)c=b[g],c.length&&((d=/^odometer-theme-(.+)$/.exec(c))?f=d[1]:/^odometer(-|$)/.test(c)||e.push(c));return e.push("odometer"),p||e.push("odometer-no-transitions"),f?e.push("odometer-theme-"+f):e.push("odometer-auto-theme"),this.el.className=e.join(" "),this.ribbons={},this.formatDigits(a),this.startWatchingMutations()},a.prototype.formatDigits=function(a){var b,c,d,e,f,g,h,i,j,k;if(this.digits=[],this.options.formatFunction)for(d=this.options.formatFunction(a),j=d.split("").reverse(),f=0,h=j.length;h>f;f++)c=j[f],c.match(/0-9/)?(b=this.renderDigit(),b.querySelector(".odometer-value").innerHTML=c,this.digits.push(b),this.insertDigit(b)):this.addSpacer(c);else for(e=!this.format.precision||!t(a)||!1,k=a.toString().split("").reverse(),g=0,i=k.length;i>g;g++)b=k[g],"."===b&&(e=!0),this.addDigit(b,e)},a.prototype.update=function(a){var b,c=this;return a=this.cleanValue(a),(b=a-this.value)?(v(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),b>0?r(this.el,"odometer-animating-up"):r(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(a),this.startWatchingMutations(),setTimeout(function(){return c.el.offsetHeight,r(c.el,"odometer-animating")},0),this.value=a):void 0},a.prototype.renderDigit=function(){return s(d)},a.prototype.insertDigit=function(a,b){return null!=b?this.inside.insertBefore(a,b):this.inside.children.length?this.inside.insertBefore(a,this.inside.children[0]):this.inside.appendChild(a)},a.prototype.addSpacer=function(a,b,c){var d;return d=s(g),d.innerHTML=a,c&&r(d,c),this.insertDigit(d,b)},a.prototype.addDigit=function(a,b){var c,d,e,f;if(null==b&&(b=!0),"-"===a)return this.addSpacer(a,null,"odometer-negation-mark");if("."===a)return this.addSpacer(null!=(f=this.format.radix)?f:".",null,"odometer-radix-mark");if(b)for(e=!1;;){if(!this.format.repeating.length){if(e)throw new Error("Bad odometer format without digits");this.resetFormat(),e=!0}if(c=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===c)break;this.addSpacer(c)}return d=this.renderDigit(),d.querySelector(".odometer-value").innerHTML=a,this.digits.push(d),this.insertDigit(d)},a.prototype.animate=function(a){return p&&"count"!==this.options.animation?this.animateSlide(a):this.animateCount(a)},a.prototype.animateCount=function(a){var c,d,e,f,g,h=this;if(d=+a-this.value)return f=e=u(),c=this.value,(g=function(){var i,j,k;return u()-f>h.options.duration?(h.value=a,h.render(),void z(h.el,"odometerdone")):(i=u()-e,i>b&&(e=u(),k=i/h.options.duration,j=d*k,c+=j,h.render(Math.round(c))),null!=w?w(g):setTimeout(g,b))})()},a.prototype.getDigitCount=function(){var a,b,c,d,e,f;for(d=1<=arguments.length?G.call(arguments,0):[],a=e=0,f=d.length;f>e;a=++e)c=d[a],d[a]=Math.abs(c);return b=Math.max.apply(Math,d),Math.ceil(Math.log(b+1)/Math.log(10))},a.prototype.getFractionalDigitCount=function(){var a,b,c,d,e,f,g;for(e=1<=arguments.length?G.call(arguments,0):[],b=/^\-?\d*\.(\d*?)0*$/,a=f=0,g=e.length;g>f;a=++f)d=e[a],e[a]=d.toString(),c=b.exec(e[a]),null==c?e[a]=0:e[a]=c[1].length;return Math.max.apply(Math,e)},a.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},a.prototype.animateSlide=function(a){var b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,s,t,u,v,w,x,y,z,B,C,D,E;if(s=this.value,j=this.getFractionalDigitCount(s,a),j&&(a*=Math.pow(10,j),s*=Math.pow(10,j)),d=a-s){for(this.bindTransitionEnd(),f=this.getDigitCount(s,a),g=[],b=0,m=v=0;f>=0?f>v:v>f;m=f>=0?++v:--v){if(t=A(s/Math.pow(10,f-m-1)),i=A(a/Math.pow(10,f-m-1)),h=i-t,Math.abs(h)>this.MAX_VALUES){for(l=[],n=h/(this.MAX_VALUES+this.MAX_VALUES*b*e),c=t;h>0&&i>c||0>h&&c>i;)l.push(Math.round(c)),c+=n;l[l.length-1]!==i&&l.push(i),b++}else l=function(){E=[];for(var a=t;i>=t?i>=a:a>=i;i>=t?a++:a--)E.push(a);return E}.apply(this);for(m=w=0,y=l.length;y>w;m=++w)k=l[m],l[m]=Math.abs(k%10);g.push(l)}for(this.resetDigits(),D=g.reverse(),m=x=0,z=D.length;z>x;m=++x)for(l=D[m],this.digits[m]||this.addDigit(" ",m>=j),null==(u=this.ribbons)[m]&&(u[m]=this.digits[m].querySelector(".odometer-ribbon-inner")),this.ribbons[m].innerHTML="",0>d&&(l=l.reverse()),o=C=0,B=l.length;B>C;o=++C)k=l[o],q=document.createElement("div"),q.className="odometer-value",q.innerHTML=k,this.ribbons[m].appendChild(q),o===l.length-1&&r(q,"odometer-last-value"),0===o&&r(q,"odometer-first-value");return 0>t&&this.addDigit("-"),p=this.inside.querySelector(".odometer-radix-mark"),null!=p&&p.parent.removeChild(p),j?this.addSpacer(this.format.radix,this.digits[j-1],"odometer-radix-mark"):void 0}},a}(),m.options=null!=(E=window.odometerOptions)?E:{},setTimeout(function(){var a,b,c,d,e;if(window.odometerOptions){d=window.odometerOptions,e=[];for(a in d)b=d[a],e.push(null!=(c=m.options)[a]?(c=m.options)[a]:c[a]=b);return e}},0),m.init=function(){var a,b,c,d,e,f;if(null!=document.querySelectorAll){for(b=document.querySelectorAll(m.options.selector||".odometer"),f=[],c=0,d=b.length;d>c;c++)a=b[c],f.push(a.odometer=new m({el:a,value:null!=(e=a.innerText)?e:a.textContent}));return f}},null!=(null!=(F=document.documentElement)?F.doScroll:void 0)&&null!=document.createEventObject?(D=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&m.options.auto!==!1&&m.init(),null!=D?D.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){return m.options.auto!==!1?m.init():void 0},!1),"function"==typeof define&&define.amd?define([],function(){return m}):"undefined"!=typeof exports&&null!==exports?module.exports=m:window.Odometer=m}).call(this);
!function(r){"use strict";var w=function(e){var t,o,n={},i=e.data("model-cid");return a&&i?(t=elementorFrontend.config.elements.data[i],o=elementorFrontend.config.elements.keys[t.attributes.widgetType||t.attributes.elType],jQuery.each(t.getActiveControls(),function(e){-1!==o.indexOf(e)&&(n[e]=t.attributes[e])})):n=e.data("settings")||{},n},a=!1,p=function(t,o,n,e){r(t).closest(".elementor-widget-wrap").addClass("e-swiper-container"),r(t).closest(".elementor-widget").addClass("e-widget-swiper"),"undefined"==typeof Swiper?new elementorFrontend.utils.swiper(t,e).then(function(e){d(t,o,n,e)}):(e=new Swiper(t,e),d(t,o,n,e))},d=function(e,t,o,n){"yes"===o.pause_on_hover&&(e.on("mouseover",function(){n.autoplay.stop()}),e.on("mouseout",function(){n.autoplay.start()})),a&&t.resize(function(){}),i(n,".pp-swiper-slider","swiper")},e=function(e,t){var o=w(e),n=e.find(".swiper-container-wrap"),i=e.find(".pp-swiper-slider"),e=JSON.parse(i.attr("data-slider-settings"));p(i,n,o,e)},i=function(n,i,a){void 0===a&&(a="swiper");["ppe-tabs-switched","ppe-toggle-switched","ppe-accordion-switched","ppe-popup-opened"].forEach(function(o){void 0!==o&&r(document).on(o,function(e,t){0<(t="ppe-popup-opened"==o?r(".pp-modal-popup-"+t):t).find(i).length&&setTimeout(function(){"swiper"===a?n.update():"gallery"===a&&t.find(".pp-image-gallery").eq(0).isotope("layout")},100)})})},t=function(e,t){var o=e.data("id"),e=e.find(".pp-image-hotspots"),e=JSON.parse(e.attr("data-tooltip-options")),n="pp-tooltip pp-tooltip-"+o,i=e.arrow,a=e.always_open,r=e.trigger,d=e.distance,p=e.animation,c=e.width,o=e.size,s=e.zindex;""!==o&&undefined!==o&&(n+=" pp-tooltip-size-"+o),t(".pp-hot-spot-wrap[data-tooltip]").each(function(){var e=t(this).data("tooltip-position");t(this).pptooltipster({trigger:r,animation:p,minWidth:0,maxWidth:c,ppclass:n,position:e,arrow:"yes"===i,distance:d,interactive:!0,positionTracker:!0,zIndex:s}),"yes"===a&&(t(this).pptooltipster(),t(this).pptooltipster("show"))})},o=function(e,t){var o=e.find(".pp-image-comparison").eq(0),e=o.data("settings");o.twentytwenty({default_offset_pct:e.visible_ratio,orientation:e.orientation,before_label:e.before_label,after_label:e.after_label,move_slider_on_hover:e.slider_on_hover,move_with_handle_only:e.slider_with_handle,click_to_move:e.slider_with_click,no_overlay:e.no_overlay})},n=function(e,n){var t=e.find(".pp-counter").eq(0),o=t.data("target"),i=e.find(".pp-counter-number").data("separator"),e=e.find(".pp-counter-number").data("separator-char"),a=""!==e?"("+e+"ddd).dd":"(,ddd).dd";"undefined"!=typeof elementorFrontend.waypoint&&elementorFrontend.waypoint(t,function(){n(o).each(function(){var e=n(this).data("to"),t=n(this).data("speed"),o=new Odometer({el:this,value:0,duration:t,format:"yes"===i?a:""});o.render(),setInterval(function(){o.update(e)})})},{offset:"80%",triggerOnce:!0})},c=function(e,t){var o=0;e.find(".swiper-slide").each(function(){t(this).height()>o&&(o=t(this).height())}),e.find(".pp-info-box-content-wrap").css("min-height",o)},s=function(t,o){var n=w(t),i=t.find(".swiper-container-wrap"),a=t.find(".pp-info-box-carousel"),e=a.attr("data-slider-settings")!==undefined?JSON.parse(a.attr("data-slider-settings")):"",r=n.equal_height_boxes;o(a).closest(".elementor-widget-wrap").addClass("e-swiper-container"),o(a).closest(".elementor-widget").addClass("e-widget-swiper"),"undefined"==typeof Swiper?new elementorFrontend.utils.swiper(a,e).then(function(e){"yes"===r&&e.on("slideChange",function(){c(t,o)}),d(a,i,n,e)}):(e=new Swiper(a,e),"yes"===r&&c(t,o),d(a,i,n,e))},l=function(e,t){var o,n,i,a=e.data("id"),r=w(e),d=r.feed_layout;"carousel"===d?(o=e.find(".swiper-container-wrap"),n=e.find(".swiper-container").eq(0),e=JSON.parse(n.attr("data-slider-settings")),p(n,o,r,e)):"masonry"===d&&(i=t("#pp-instafeed-"+a).imagesLoaded(function(){i.masonry({itemSelector:".pp-feed-item",percentPosition:!0})}))},f=function(e,t){var o=e.find(".pp-image-scroll-container"),n=o.find(".pp-image-scroll-overlay"),i=o.find(".pp-image-scroll-vertical"),e=w(e),a=o.find(".pp-image-scroll-image img"),r=e.direction_type,d=e.reverse,e=e.trigger_type,p=null;function c(){a.css("transform",("vertical"==r?"translateY":"translateX")+"( -"+p+"px)")}function s(){a.css("transform",("vertical"==r?"translateY":"translateX")+"(0px)")}function l(){p="vertical"==r?a.height()-o.height():a.width()-o.width()}"scroll"==e?(o.addClass("pp-container-scroll"),"vertical"==r?i.addClass("pp-image-scroll-ver"):o.imagesLoaded(function(){n.css({width:a.width(),height:a.height()})})):("yes"===d&&o.imagesLoaded(function(){o.addClass("pp-container-scroll-instant"),l(),c()}),"vertical"==r&&i.removeClass("pp-image-scroll-ver"),o.mouseenter(function(){o.removeClass("pp-container-scroll-instant"),l(),("yes"===d?s:c)()}),o.mouseleave(function(){("yes"===d?c:s)()}))},m=function(e,o){var t=e.find(".pp-accordion-tab-title"),e=w(e),n=e.accordion_type,i=e.toggle_speed;t.each(function(){o(this).hasClass("pp-accordion-tab-active-default")&&(o(this).addClass("pp-accordion-tab-show pp-accordion-tab-active"),o(this).next().slideDown(i))}),t.unbind("click"),t.on("click keypress",function(e){var t;e.preventDefault(),1!=e.which&&13!=e.which&&32!=e.which&&e.which!=undefined||(e=(t=o(this)).parent(),o(document).trigger("ppe-accordion-switched",[e]),"accordion"===n?t.hasClass("pp-accordion-tab-show")?(t.closest(".pp-accordion-item").removeClass("pp-accordion-item-active"),t.removeClass("pp-accordion-tab-show pp-accordion-tab-active"),t.attr("aria-expanded","false"),t.next().slideUp(i)):(t.closest(".pp-advanced-accordion").find(".pp-accordion-item").removeClass("pp-accordion-item-active"),t.closest(".pp-advanced-accordion").find(".pp-accordion-tab-title").removeClass("pp-accordion-tab-show pp-accordion-tab-active"),t.closest(".pp-advanced-accordion").find(".pp-accordion-tab-title").removeClass("pp-accordion-tab-active-default"),t.closest(".pp-advanced-accordion").find(".pp-accordion-tab-content").slideUp(i),t.toggleClass("pp-accordion-tab-show pp-accordion-tab-active"),t.closest(".pp-advanced-accordion").find(".pp-accordion-tab-title").attr("aria-expanded","false"),t.closest(".pp-accordion-item").toggleClass("pp-accordion-item-active"),t.hasClass("pp-accordion-tab-title")&&t.attr("aria-expanded","true"),t.next().slideToggle(i)):t.hasClass("pp-accordion-tab-show")?(t.removeClass("pp-accordion-tab-show pp-accordion-tab-active"),t.next().slideUp(i)):(t.addClass("pp-accordion-tab-show pp-accordion-tab-active"),t.next().slideDown(i)))}),u(),o(window).on("hashchange",function(){u()})};function u(){var e;location.hash&&0<r(location.hash).length&&((e=r(location.hash+".pp-accordion-tab-title"))&&0<e.length&&(location.href="#",r("html, body").animate({scrollTop:e.parents(".pp-accordion-item").offset().top-50+"px"},500,function(){e.parents(".pp-accordion-item").hasClass("pp-accordion-item-active")||e.trigger("click")})))}var h=function(e){var t="pp-tooltip pp-tooltip-"+e.data("id"),o=e.find(".pp-button[data-tooltip]").data("tooltip-position"),n=elementorFrontend.config.breakpoints;window.innerWidth<=n.lg&&window.innerWidth>=n.md&&(o=e.find(".pp-button[data-tooltip]").data("tooltip-position-tablet")),window.innerWidth<n.md&&(o=e.find(".pp-button[data-tooltip]").data("tooltip-position-mobile")),e.find(".pp-button[data-tooltip]").pptooltipster({trigger:"hover",animation:"fade",ppclass:t,side:o,interactive:!0,positionTracker:!0})},g=function(e,t){t(document).ready(function(){"undefined"!==twttr&&twttr.widgets.load()})},v=function(e,t){var o=e.find(".pp-image-accordion").eq(0),n=w(e),e=n.accordion_action,n=n.disable_body_click,o=o.attr("id"),i=t("#"+o+" .pp-image-accordion-item");"on-hover"===e?i.hover(function(){i.css("flex","1"),i.removeClass("pp-image-accordion-active"),t(this).addClass("pp-image-accordion-active"),i.find(".pp-image-accordion-content-wrap").removeClass("pp-image-accordion-content-active"),t(this).find(".pp-image-accordion-content-wrap").addClass("pp-image-accordion-content-active"),t(this).css("flex","3")},function(){i.css("flex","1"),i.find(".pp-image-accordion-content-wrap").removeClass("pp-image-accordion-content-active"),i.removeClass("pp-image-accordion-active")}):"on-click"===e&&(i.click(function(e){e.stopPropagation(),i.css("flex","1"),i.removeClass("pp-image-accordion-active"),t(this).addClass("pp-image-accordion-active"),i.find(".pp-image-accordion-content-wrap").removeClass("pp-image-accordion-content-active"),t(this).find(".pp-image-accordion-content-wrap").addClass("pp-image-accordion-content-active"),t(this).css("flex","3")}),t("#"+o).click(function(e){e.stopPropagation()}),"yes"!==n&&t("body").click(function(){i.css("flex","1"),i.find(".pp-image-accordion-content-wrap").removeClass("pp-image-accordion-content-active"),i.removeClass("pp-image-accordion-active")}))},y=function(e,t){void 0!==e&&e.find("select:not([multiple])").each(function(){var e=t(this);(e.next().hasClass("chosen-container")?e.next():e).wrap("<span class='pp-gf-select-custom'></span>")})},b=function(n,i){var e=n.data("id"),t=n.find(".pp-pricing-table-tooptip[data-tooltip]"),o=w(n),a="pp-tooltip pp-tooltip-"+e,r=o.tooltip_arrow,d=o.tooltip_trigger,p=o.tooltip_animation,e=o.tooltip_size,c=o.tooltip_zindex,s=elementorFrontend.config.breakpoints;""!==e&&undefined!==e&&(a+=" pp-tooltip-size-"+e),t.each(function(){var e=i(this).data("tooltip-position"),t=i(this).data("tooltip-width"),o=i(this).data("tooltip-distance");window.innerWidth<=s.lg&&window.innerWidth>=s.md&&(e=n.find(".pp-pricing-table-tooptip[data-tooltip]").data("tooltip-position-tablet")),window.innerWidth<s.md&&(e=n.find(".pp-pricing-table-tooptip[data-tooltip]").data("tooltip-position-mobile")),i(this).pptooltipster({trigger:d,animation:p,minWidth:t,ppclass:a,side:e,arrow:"yes"===r,distance:o,interactive:!0,positionTracker:!0,zIndex:c})})},_=function(e,p){var t,c,s,o=w(e),n=e.find(".pp-content-reveal-content-wrapper"),i=e.find(".pp-content-reveal-content"),a=e.find(".pp-content-reveal-saparator"),r=e.find(".pp-content-reveal-button-inner"),d=e.find(".pp-content-reveal-buttons-wrapper"),l=i.outerHeight(),f=n.data("scroll-top"),m=n.data("visibility"),u=n.data("content-height"),h=1e3*n.data("speed"),g=n.data("lines"),v=e.find(".pp-content-reveal-content p").css("line-height"),e=i.css("padding-top");"reveal"===o.default_content_state&&a.hide(),"lines"==m?("0"==g?t=n.outerHeight():(t=parseInt(v,10)*g+parseInt(e,10),"unreveal"===o.default_content_state&&n.css("height",t+"px")),e=i.find("> *"),s=c=0,e.each(function(e){if(c<g){var t=(n=this,r=window.getComputedStyle(n),(d=document.createElement(n.nodeName)).setAttribute("style","margin:0px;padding:0px;font-family:"+r.fontFamily+";font-size:"+r.fontSize),d.innerHTML="test",n=(d=n.parentNode.appendChild(d)).clientHeight,d.parentNode.removeChild(d),n),o=p(this).outerHeight()/t,n=window.getComputedStyle(this);if(1<o&&isFinite(o)){for(var i=0,a=1,a=1;a<=o;a++)c<g&&(s+=t,c++,i++);i===o&&(s+=parseInt(n.marginTop)+parseInt(n.marginBottom))}else s+=p(this).outerHeight(!0),c++}var n,r,d}),i.outerHeight(!0)-1<=s&&(d.hide(),a.hide())):("unreveal"===o.default_content_state&&n.css("height",u+"px"),t=u),r.on("click",function(){a.slideToggle(h),p(this).toggleClass("pp-content-revealed"),r.hasClass("pp-content-revealed")?n.animate({height:l+"px"},h):(n.animate({height:t+"px"},h),"yes"==f&&p("html, body").animate({scrollTop:n.offset().top-50+"px"}))})},k=function(e){var t,o,n,i,a,r;e.data("pp-wrapper-link")&&(t=e.data("pp-wrapper-link"),o=e.data("id"),n=t.url,i=t.is_external?"_blank":"_self",a=t.nofollow?"nofollow":"",r=document.createElement("a"),e.on("click.onPPWrapperLink",function(){r.id="pp-wrapper-link-"+o,r.href=n,r.target=i,r.rel=a,r.style.display="none",document.body.appendChild(r);var e=document.getElementById(r.id);e.click();var t=setTimeout(function(){document.body.removeChild(e),clearTimeout(t)})}))};r(window).on("elementor/frontend/init",function(){elementorFrontend.isEditMode()&&(a=!0),elementorFrontend.hooks.addAction("frontend/element_ready/pp-image-hotspots.default",t),elementorFrontend.hooks.addAction("frontend/element_ready/pp-image-comparison.default",o),elementorFrontend.hooks.addAction("frontend/element_ready/pp-counter.default",n),elementorFrontend.hooks.addAction("frontend/element_ready/pp-logo-carousel.default",e),elementorFrontend.hooks.addAction("frontend/element_ready/pp-info-box-carousel.default",s),elementorFrontend.hooks.addAction("frontend/element_ready/pp-instafeed.default",l),elementorFrontend.hooks.addAction("frontend/element_ready/pp-team-member-carousel.default",e),elementorFrontend.hooks.addAction("frontend/element_ready/pp-scroll-image.default",f),elementorFrontend.hooks.addAction("frontend/element_ready/pp-advanced-accordion.default",m),elementorFrontend.hooks.addAction("frontend/element_ready/pp-content-ticker.default",e),elementorFrontend.hooks.addAction("frontend/element_ready/pp-buttons.default",h),elementorFrontend.hooks.addAction("frontend/element_ready/pp-twitter-timeline.default",g),elementorFrontend.hooks.addAction("frontend/element_ready/pp-twitter-tweet.default",g),elementorFrontend.hooks.addAction("frontend/element_ready/pp-image-accordion.default",v),elementorFrontend.hooks.addAction("frontend/element_ready/pp-gravity-forms.default",y),elementorFrontend.hooks.addAction("frontend/element_ready/pp-pricing-table.default",b),elementorFrontend.hooks.addAction("frontend/element_ready/pp-content-reveal.default",_),elementorFrontend.hooks.addAction("frontend/element_ready/global",k),a&&parent.document.addEventListener("mousedown",function(e){var t=parent.document.querySelectorAll(".elementor-element--promotion");if(0<t.length)for(var o=0;o<t.length;o++)if(t[o].contains(e.target)){var n,i,a=parent.document.querySelector("#elementor-element--promotion__dialog");0<=t[o].querySelector(".icon > i").classList.toString().indexOf("ppicon")?(a.querySelector(".dialog-buttons-action").style.display="none",null===a.querySelector(".pp-dialog-buttons-action")?(n=document.createElement("a"),i=document.createTextNode("Upgrade to PowerPack Pro"),n.setAttribute("href","https://powerpackelements.com/upgrade/?utm_medium=pp-elements-lite&utm_source=pp-editor-icons&utm_campaign=pp-pro-upgrade"),n.setAttribute("target","_blank"),n.classList.add("dialog-button","dialog-action","dialog-buttons-action","elementor-button","elementor-button-success","pp-dialog-buttons-action"),n.appendChild(i),a.querySelector(".dialog-buttons-action").insertAdjacentHTML("afterend",n.outerHTML)):a.querySelector(".pp-dialog-buttons-action").style.display=""):(a.querySelector(".dialog-buttons-action").style.display="",null!==a.querySelector(".pp-dialog-buttons-action")&&(a.querySelector(".pp-dialog-buttons-action").style.display="none"));break}})})}(jQuery);